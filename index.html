<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SEOUL 2026 | é–‹å¿ƒçš„å®¶</title>
    
    <!-- PWA Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#ffffff">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+HK:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.330.0"
      }
    }
    </script>

    <style>
        body { 
            font-family: 'Noto Sans HK', sans-serif; 
            background-color: #FAFAFA; 
            color: #171717; 
            -webkit-font-smoothing: antialiased; 
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .glass-dark { background: rgba(23, 23, 23, 0.9); backdrop-filter: blur(12px); color: white; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes pulse-subtle { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }

        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        .animate-scale-in { animation: scaleIn 0.3s ease-out forwards; }
        .today-badge { animation: pulse-subtle 2s infinite; }

        /* --- FIXED PRINT STYLES --- */
        @media print {
            @page { margin: 0.5cm; size: A4; }
            body { 
                background-color: white; 
                -webkit-print-color-adjust: exact !important; 
                print-color-adjust: exact !important; 
                font-size: 8.5pt;
            }
            .no-print { display: none !important; }
            .print-only { display: block !important; }
            .page-break-before { page-break-before: always; }
            .avoid-break { break-inside: avoid; page-break-inside: avoid; }
            .print-cols-2 { column-count: 2; column-gap: 1cm; width: 100%; }
            * { box-shadow: none !important; text-shadow: none !important; }
            .print-tight-y { margin-top: 0 !important; margin-bottom: 0 !important; padding-top: 2px !important; padding-bottom: 2px !important; }
            .print-border { border: 1px solid #ddd !important; }
        }
        .print-only { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Calendar, ShoppingBag, Camera, Thermometer, Briefcase, 
            Utensils, Heart, Menu, X, Bus, CheckCircle, AlertTriangle, 
            UserPlus, BedDouble, Home, Clock, ExternalLink, Map, Languages, 
            Ticket, MapPin, Shirt, Plug, Pill, FileText, Share2, ChevronRight,
            ArrowDown, Star, ArrowUp, Printer, CheckSquare, Globe, Wallet, Umbrella, Droplets, Snowflake,
            Sun, Cloud, CloudRain, CloudSnow, Wind, Moon, Loader2, Download, Smartphone, Navigation
        } from 'lucide-react';

        // --- 1. TRANSLATION DATA ---
        const dictionary = {
            zh: {
                appTitle: "é–‹å¿ƒçš„å®¶",
                tripTitle: "é¦–çˆ¾ä¹‹æ—… 2026",
                tripDate: "2026å¹´ 2æœˆ14æ—¥ - 2æœˆ22æ—¥",
                duration: "9æ—¥8å¤œ",
                weather: "-5Â°C å¯’å†·",
                tabs: { itinerary: "è¡Œç¨‹", flights: "æ©Ÿç¥¨", hotel: "ä½å®¿", prep: "æº–å‚™" },
                print: "æ‰“å° PDF",
                share: "åˆ†äº«è¡Œç¨‹",
                install: "å®‰è£ App",
                showAddress: "é¡¯ç¤ºåœ°å€",
                showDriver: "è«‹å‡ºç¤ºçµ¦å¸æ©Ÿçœ‹ (Show to Driver)",
                close: "é—œé–‰ (Close)",
                highlight: "é‡é»",
                booking: { book: "éœ€é ç´„", queue: "éœ€æ’éšŠ", free: "ç›´æ¥å…¥å ´" },
                urgent: "ç·Šæ€¥æç¤º",
                urgentText: "å›ç¨‹æ©Ÿ 13:45 èµ·é£›ï¼Œè«‹å‹™å¿…æ–¼ 11:45 å‰æŠµé”æ©Ÿå ´ã€‚å»ºè­°æ—©ä¸Š 10:00 å°±è¦åœ¨é…’åº—é–€å£ä¸Šå·´å£«ã€‚",
                subway: "åœ°éµ",
                bus: "æ©Ÿå ´å·´å£«",
                rooms: "æˆ¿è™Ÿåˆ†é…",
                room: "æˆ¿",
                checklistData: {
                    docs: { title: "å¿…å‚™æ–‡ä»¶", items: ["è­·ç…§ (æª¢æŸ¥æœ‰æ•ˆæœŸ)", "é›»å­æ©Ÿç¥¨ (PDF)", "é…’åº—ç¢ºèªå–®", "æ—…éŠä¿éšªå–®", "K-ETA (å¦‚éœ€è¦)", "èº«ä»½è­‰/è­·ç…§å‰¯æœ¬"] },
                    clothes: { title: "è¡£ç‰© (æ´‹è”¥å¼)", items: ["é•·ç‰ˆç¾½çµ¨ (Long Padding)", "ç™¼ç†±è¡£ (Heattech) x3", "è¡›è¡£/å†·è¡« (æ–¹ä¾¿ç©¿è„«)", "é˜²é¢¨è¤²/åŠ çµ¨è¤²", "ç¾Šæ¯›è¥ª (åš)", "é˜²æ»‘èˆ’é©é‹", "å†·å¸½ & åœå·¾", "æ‰‹å¥— (å¯è§¸æ§è¢å¹•)", "ç¡è¡£/å±…å®¶æœ (è–„)"] },
                    electronics: { title: "é›»å­ç”¨å“", items: ["è½‰æ’é ­ (å…©è…³åœ“å½¢)", "å¤–ç½®å……é›»å™¨ (å¤§å®¹é‡)", "SIMå¡ / WiFiè›‹", "å……é›»ç·š (å¤šå¸¶)", "ç›¸æ©Ÿ/è¨˜æ†¶å¡"] },
                    meds: { title: "è—¥å“ & å€‹äººè­·ç†", items: ["æ„Ÿå†’è—¥/å¿…ç†ç—›", "è…¸èƒƒè—¥/æ­¢ç—›è—¥", "è† å¸ƒ", "å€‹äººé•·æœŸè—¥ç‰©", "æ¥µæ½¤ä¿æ¿• Cream", "è­·æ‰‹éœœ/æ½¤å”‡è†", "ç‰™åˆ·ç‰™è† (é…’åº—æœªå¿…æœ‰)", "ä¿æº«å£º"] },
                    misc: { title: "é›œé … & éŒ¢è²¡", items: ["T-Money å¡", "éŸ“åœœç¾é‡‘", "ä¿¡ç”¨å¡ (æµ·å¤–ç°½è³¬)", "æš–åŒ… (æš–è²¼)", "ç¸®éª¨é®/é›¨è¤¸", "ç’°ä¿è¢‹", "æ³³è¡£ (Aqua Field)"] }
                },
                avgTemp: "å¹³å‡æ°£æº«",
                plugType: "å…©è…³åœ“å½¢",
                today: "ä»Šæ—¥ TODAY",
                liveWeather: "å³æ™‚å¤©æ°£",
                weatherLoc: { seoul: "é¦–çˆ¾", local: "ç›®å‰ä½ç½®" },
                time: { hk: "é¦™æ¸¯", seoul: "é¦–çˆ¾" },
                forecast: "æœªä¾†é å ±",
                weatherStatus: {
                    0: "æ™´å¤©", 1: "å¤šé›²", 2: "å¤šé›²", 3: "é™°å¤©",
                    45: "æœ‰éœ§", 48: "èµ·éœ§",
                    51: "æ¯›æ¯›é›¨", 53: "æ¯›æ¯›é›¨", 55: "æ¯›æ¯›é›¨",
                    61: "ä¸‹é›¨", 63: "ä¸‹é›¨", 65: "å¤§é›¨",
                    71: "ä¸‹é›ª â„ï¸", 73: "ä¸‹é›ª â„ï¸", 75: "å¤§é›ª â„ï¸",
                    77: "é›ªç²’", 80: "é™£é›¨", 81: "é™£é›¨", 82: "æš´é›¨",
                    85: "é™£é›ª", 86: "é™£é›ª",
                    95: "é›·é›¨", 96: "é›·é›¨", 99: "é›·é›¨"
                }
            },
            en: {
                appTitle: "Happy Family",
                tripTitle: "Seoul Trip 2026",
                tripDate: "Feb 14 - Feb 22, 2026",
                duration: "9 Days 8 Nights",
                weather: "-5Â°C Cold",
                tabs: { itinerary: "Itinerary", flights: "Flights", hotel: "Hotel", prep: "Prep" },
                print: "Print PDF",
                share: "Share",
                install: "Install App",
                showAddress: "Show Address",
                showDriver: "Show to Driver",
                close: "Close",
                highlight: "Highlight",
                booking: { book: "Booking", queue: "Queue", free: "Walk-in" },
                urgent: "Urgent Notice",
                urgentText: "Return flight departs at 13:45. You MUST arrive at airport by 11:45. Suggest taking bus at 10:00 AM.",
                subway: "Subway",
                bus: "Airport Bus",
                rooms: "Room Allocation",
                room: "Room",
                checklistData: {
                    docs: { title: "Documents", items: ["Passport (Check Expiry)", "E-Ticket (PDF)", "Hotel Voucher", "Travel Insurance", "K-ETA (If needed)", "ID/Passport Copies"] },
                    clothes: { title: "Clothing", items: ["Long Padding", "Heattech x3", "Sweatshirt", "Windproof Pants", "Wool Socks", "Non-slip Shoes", "Beanie/Scarf", "Touch Gloves", "Light PJ (Heated Floor)"] },
                    electronics: { title: "Electronics", items: ["Adapter (Type F)", "Power Bank", "SIM/WiFi", "Cables", "Camera"] },
                    meds: { title: "Care", items: ["Meds", "Band-aids", "Moisturizer", "Lip Balm", "Toothbrush", "Thermo Flask"] },
                    misc: { title: "Misc", items: ["T-Money", "Cash (KRW)", "Credit Card", "Heat Packs", "Umbrella", "Eco Bag", "Swimsuit"] }
                },
                avgTemp: "Avg Temp",
                plugType: "Type F (2-Pin)",
                today: "TODAY",
                liveWeather: "Live Weather",
                weatherLoc: { seoul: "Seoul", local: "Current Loc" },
                time: { hk: "Hong Kong", seoul: "Seoul" },
                forecast: "Forecast",
                weatherStatus: {
                    0: "Clear", 1: "Mainly Clear", 2: "Partly Cloudy", 3: "Overcast",
                    45: "Foggy", 48: "Foggy",
                    51: "Drizzle", 53: "Drizzle", 55: "Drizzle",
                    61: "Rain", 63: "Rain", 65: "Heavy Rain",
                    71: "Snow â„ï¸", 73: "Snow â„ï¸", 75: "Heavy Snow â„ï¸",
                    77: "Snow Grains", 80: "Showers", 81: "Showers", 82: "Violent Showers",
                    85: "Snow Showers", 86: "Snow Showers",
                    95: "Thunderstorm", 96: "Thunderstorm", 99: "Thunderstorm"
                }
            }
        };

        // --- 2. UTILITIES ---
        const getColorClass = (color, type) => {
            const maps = {
                blue: { bg: 'bg-blue-50', text: 'text-blue-600', ring: 'ring-blue-50', border: 'border-blue-100', bar: 'bg-blue-500', icon: 'text-blue-500' },
                green: { bg: 'bg-green-50', text: 'text-green-600', ring: 'ring-green-50', border: 'border-green-100', bar: 'bg-green-500', icon: 'text-green-500' },
                purple: { bg: 'bg-purple-50', text: 'text-purple-600', ring: 'ring-purple-50', border: 'border-purple-100', bar: 'bg-purple-500', icon: 'text-purple-500' },
                red: { bg: 'bg-red-50', text: 'text-red-600', ring: 'ring-red-50', border: 'border-red-100', bar: 'bg-red-500', icon: 'text-red-500' },
                yellow: { bg: 'bg-yellow-50', text: 'text-yellow-600', ring: 'ring-yellow-50', border: 'border-yellow-100', bar: 'bg-yellow-500', icon: 'text-yellow-500' },
                orange: { bg: 'bg-orange-50', text: 'text-orange-600', ring: 'ring-orange-50', border: 'border-orange-100', bar: 'bg-orange-500', icon: 'text-orange-500' },
            };
            return maps[color]?.[type] || '';
        };

        // --- 3. COMPONENTS (Defined in order of dependency) ---

        // A. InstallModal
        const InstallModal = ({ onClose, platform }) => (
            <div className="fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in no-print" onClick={onClose}>
                <div className="absolute inset-0 bg-black/90 backdrop-blur-sm"></div>
                <div className="bg-white w-full max-w-sm relative z-10 overflow-hidden shadow-2xl rounded-3xl p-6 animate-scale-in" onClick={e => e.stopPropagation()}>
                    <div className="flex justify-between items-center mb-4">
                        <h3 className="text-xl font-black">åŠ å…¥ä¸»ç•«é¢</h3>
                        <button onClick={onClose} className="p-1 bg-gray-100 rounded-full"><X size={20}/></button>
                    </div>
                    
                    {platform === 'ios' ? (
                        <div className="space-y-4 text-center">
                            <p className="text-gray-600">åœ¨ iPhone ä¸Šï¼Œè«‹è·Ÿéš¨ä»¥ä¸‹æ­¥é©Ÿï¼š</p>
                            <div className="bg-gray-50 p-4 rounded-xl text-left space-y-2 text-sm">
                                <div className="flex items-center"><Share2 size={16} className="mr-2 text-blue-500"/> 1. é»æ“Šç€è¦½å™¨åº•éƒ¨çš„ <strong>ã€Œåˆ†äº«ã€</strong> æŒ‰éˆ•</div>
                                <div className="flex items-center"><CheckSquare size={16} className="mr-2 text-gray-500"/> 2. å¾€ä¸‹æ»‘å‹•æ‰¾åˆ° <strong>ã€ŒåŠ å…¥ä¸»ç•«é¢ã€</strong></div>
                                <div className="flex items-center"><UserPlus size={16} className="mr-2 text-gray-500"/> 3. é»æ“Šå³ä¸Šè§’çš„ <strong>ã€Œæ–°å¢ã€</strong></div>
                            </div>
                        </div>
                    ) : (
                        <div className="space-y-4 text-center">
                            <p className="text-gray-600">åœ¨ Android / Chrome ä¸Šï¼š</p>
                            <div className="bg-gray-50 p-4 rounded-xl text-left space-y-2 text-sm">
                                <div className="flex items-center"><Menu size={16} className="mr-2 text-gray-500"/> 1. é»æ“Šç€è¦½å™¨å³ä¸Šè§’çš„ <strong>é¸å–® (ä¸‰é»)</strong></div>
                                <div className="flex items-center"><Smartphone size={16} className="mr-2 text-blue-500"/> 2. é¸æ“‡ <strong>ã€Œå®‰è£æ‡‰ç”¨ç¨‹å¼ã€</strong> æˆ– <strong>ã€ŒåŠ åˆ°ä¸»ç•«é¢ã€</strong></div>
                            </div>
                        </div>
                    )}
                    
                    <button onClick={onClose} className="w-full mt-6 py-3 bg-blue-600 text-white rounded-xl font-bold">æ˜ç™½ï¼</button>
                </div>
            </div>
        );

        // B. RealTimeWeather (Updated with Safe Location Logic)
        const RealTimeWeather = ({ lang, isPrint }) => {
            const [weather, setWeather] = useState(null);
            const [forecast, setForecast] = useState([]);
            const [loading, setLoading] = useState(true);
            const [locationName, setLocationName] = useState(dictionary[lang].weatherLoc.seoul);
            const [hkTime, setHkTime] = useState("");
            const [seoulTime, setSeoulTime] = useState("");

            // Clock Effect
            useEffect(() => {
                const updateTime = () => {
                    const now = new Date();
                    try {
                        setHkTime(now.toLocaleTimeString('en-US', { timeZone: 'Asia/Hong_Kong', hour: '2-digit', minute: '2-digit', hour12: false }));
                        setSeoulTime(now.toLocaleTimeString('en-US', { timeZone: 'Asia/Seoul', hour: '2-digit', minute: '2-digit', hour12: false }));
                    } catch (e) {
                        setHkTime("--:--");
                        setSeoulTime("--:--");
                    }
                };
                updateTime();
                const interval = setInterval(updateTime, 60000); 
                return () => clearInterval(interval);
            }, []);

            // Weather Fetch Function
            const fetchWeather = (lat, lon, isLocal) => {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code,is_day&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia%2FSeoul&forecast_days=4`;
                
                fetch(url)
                    .then(res => res.json())
                    .then(data => {
                        setWeather(data.current);
                        setForecast(data.daily);
                        setLoading(false);
                        if(isLocal) setLocationName(dictionary[lang].weatherLoc.local);
                    })
                    .catch(err => {
                        console.error(err);
                        setLoading(false);
                    });
            };

            // Geolocation Logic with Safety Try-Catch and Timeout
            useEffect(() => {
                const SEOUL_LAT = 37.5665;
                const SEOUL_LON = 126.9780;

                const getGeo = () => {
                    if ("geolocation" in navigator) {
                        try {
                            navigator.geolocation.getCurrentPosition(
                                (position) => {
                                    const { latitude, longitude } = position.coords;
                                    const isKorea = latitude >= 33 && latitude <= 39 && longitude >= 124 && longitude <= 131;
                                    if (isKorea) {
                                        fetchWeather(latitude, longitude, true);
                                    } else {
                                        fetchWeather(SEOUL_LAT, SEOUL_LON, false);
                                    }
                                },
                                (error) => {
                                    console.log("Geo error:", error);
                                    fetchWeather(SEOUL_LAT, SEOUL_LON, false);
                                },
                                { timeout: 5000 }
                            );
                        } catch (e) {
                            console.error("Geo API error:", e);
                            fetchWeather(SEOUL_LAT, SEOUL_LON, false);
                        }
                    } else {
                        fetchWeather(SEOUL_LAT, SEOUL_LON, false);
                    }
                };
                
                getGeo();

            }, [lang]);

            if (loading && !isPrint) {
                return (
                    <div className="bg-black text-white p-6 rounded-2xl shadow-lg animate-pulse w-full">
                        <div className="flex justify-between items-start mb-4"><Loader2 className="animate-spin text-gray-400" /></div>
                        <div className="text-xs font-bold text-gray-400 uppercase">Loading Weather...</div>
                    </div>
                );
            }

            // Fallback
            if (!weather) return null;

            const getWeatherIcon = (code, isDay = 1, size = 24) => {
                const className = `text-white ${size > 20 ? 'animate-pulse' : ''}`;
                if (code >= 71 && code <= 86) return <Snowflake size={size} className="text-white animate-bounce" />; // Snow
                if (code >= 51 && code <= 67) return <CloudRain size={size} className="text-blue-200" />; // Rain
                if (code >= 1 && code <= 3) return <Cloud size={size} className="text-gray-300" />; // Cloud
                if (code === 0) return isDay ? <Sun size={size} className="text-yellow-400" /> : <Moon size={size} className="text-yellow-200" />; // Clear
                return <Thermometer size={size} className="text-blue-400" />;
            };

            const weatherDesc = dictionary[lang].weatherStatus[weather.weather_code] || (lang === 'zh' ? "å¤šé›²" : "Cloudy");
            const isSnowing = weather.weather_code >= 71 && weather.weather_code <= 86;

            return (
                <div className={`rounded-3xl p-6 shadow-xl w-full text-white relative overflow-hidden transition-all ${isSnowing ? 'bg-gradient-to-br from-blue-900 to-blue-600 ring-4 ring-white/50' : 'bg-gradient-to-br from-gray-900 to-black'}`}>
                    
                    {/* Decorative Background */}
                    <div className="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>

                    {/* Row 1: Clocks */}
                    <div className="flex justify-between items-center mb-6 border-b border-white/10 pb-4 relative z-10">
                        <div className="text-center">
                            <div className="text-xs text-gray-400 font-bold uppercase mb-1">{dictionary[lang].time.hk}</div>
                            <div className="text-xl font-mono font-bold tracking-wider">{hkTime}</div>
                        </div>
                        <div className="text-center">
                            <div className="text-xs text-blue-400 font-bold uppercase mb-1">{dictionary[lang].time.seoul}</div>
                            <div className="text-2xl font-mono font-black tracking-wider text-blue-200">{seoulTime}</div>
                        </div>
                    </div>

                    {/* Row 2: Current Weather */}
                    <div className="flex justify-between items-center mb-6 relative z-10">
                        <div>
                            <div className="text-xs font-bold text-gray-400 uppercase mb-1 flex items-center gap-1">
                                {locationName === dictionary[lang].weatherLoc.local ? <Navigation size={12} className="text-green-400"/> : <MapPin size={12}/>}
                                {locationName}
                            </div>
                            <div className="flex items-baseline gap-2">
                                <div className="text-5xl font-black tracking-tighter">{Math.round(weather.temperature_2m)}Â°</div>
                                <div className="text-lg font-medium opacity-90">{weatherDesc}</div>
                            </div>
                        </div>
                        <div className="p-3 bg-white/10 rounded-2xl backdrop-blur-sm">
                            {getWeatherIcon(weather.weather_code, weather.is_day, 48)}
                        </div>
                    </div>

                    {/* Row 3: Forecast */}
                    {forecast && forecast.time && (
                        <div className="grid grid-cols-3 gap-2 relative z-10 bg-white/5 rounded-xl p-3">
                            {forecast.time.slice(1, 4).map((dateStr, i) => {
                                const date = new Date(dateStr);
                                const dayName = date.toLocaleDateString(lang === 'zh' ? 'zh-HK' : 'en-US', { weekday: 'short' });
                                const code = forecast.weather_code[i+1];
                                const max = Math.round(forecast.temperature_2m_max[i+1]);
                                const min = Math.round(forecast.temperature_2m_min[i+1]);
                                
                                return (
                                    <div key={i} className="flex flex-col items-center justify-center border-r border-white/10 last:border-0">
                                        <span className="text-[10px] text-gray-400 font-bold uppercase mb-1">{dayName}</span>
                                        <div className="mb-1">{getWeatherIcon(code, 1, 18)}</div>
                                        <span className="text-xs font-bold">{min}Â°-{max}Â°</span>
                                    </div>
                                );
                            })}
                        </div>
                    )}
                </div>
            );
        };

        // C. KoreanOverlay
        const KoreanOverlay = ({ koreanText, name, subText, onClose, lang }) => (
            <div className="fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in no-print" onClick={onClose}>
                <div className="absolute inset-0 bg-black/90 backdrop-blur-sm"></div>
                <div className="bg-white w-full max-w-sm relative z-10 overflow-hidden shadow-2xl animate-scale-in" style={{borderRadius: '24px'}} onClick={e => e.stopPropagation()}>
                    <div className="bg-yellow-400 p-4 text-center relative">
                        <button onClick={onClose} className="absolute right-4 top-1/2 -translate-y-1/2 p-1 bg-black/10 rounded-full hover:bg-black/20 text-black/60"><X size={16}/></button>
                        <h4 className="text-black font-black text-xs uppercase tracking-[0.2em]">{dictionary[lang].showDriver}</h4>
                        <div className="text-[10px] font-bold text-black/60 mt-1">ê¸°ì‚¬ë‹˜ê»˜ ë³´ì—¬ì£¼ì„¸ìš”</div>
                    </div>
                    <div className="p-8 text-center">
                        <div className="text-4xl font-black text-gray-900 mb-6 leading-snug break-keep select-all">
                            {koreanText}
                        </div>
                        {subText && (
                            <div className="text-lg text-gray-500 font-medium mb-8 bg-gray-50 p-4 rounded-xl break-keep border border-gray-100">
                                {subText}
                            </div>
                        )}
                        <p className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-8">{name}</p>
                        <button onClick={onClose} className="w-full py-4 bg-black text-white rounded-xl font-bold text-lg hover:scale-[0.98] transition-transform active:bg-gray-800">
                            {dictionary[lang].close}
                        </button>
                    </div>
                </div>
            </div>
        );

        // D. TimelineItem
        const TimelineItem = ({ time, place, desc, highlight, tags, mapTerm, korean, bookingType, isLast, onShowKorean, onOpenMap, onOpenImage, lang }) => (
            <div className="flex group avoid-break mb-4 print:mb-2">
                <div className="w-14 flex-shrink-0 flex flex-col items-center pt-1 print:w-10">
                    <span className="text-xs font-bold text-gray-900 print:text-[8pt]">{time}</span>
                    {!isLast && <div className="w-px h-full bg-gray-200 mt-1 group-hover:bg-gray-300 transition-colors print:border-l print:border-gray-200 print:bg-transparent"></div>}
                </div>
                <div className="flex-1 pb-4 print:pb-1">
                    <div className={`relative p-4 rounded-2xl transition-all duration-300 border ${highlight ? 'bg-black text-white border-black shadow-lg shadow-gray-200 print:bg-gray-50 print:text-black print:border-gray-300' : 'bg-white border-gray-100 shadow-sm hover:shadow-md print:border-gray-200 print:shadow-none'}`}>
                        {highlight && <div className="absolute -top-3 -right-3 bg-yellow-400 text-black text-[10px] font-black px-2 py-1 rounded shadow-sm rotate-3 print:border print:border-black print:text-[7pt] print:py-0.5">{dictionary[lang].highlight}</div>}
                        <div className="flex justify-between items-start mb-1">
                            <h4 className={`text-base font-bold leading-tight print:text-sm ${highlight ? 'text-white print:text-black' : 'text-gray-900'}`}>{place}</h4>
                            <div className="flex gap-1.5 no-print">
                                {korean && <button onClick={(e) => { e.stopPropagation(); onShowKorean(korean, place); }} className="p-1.5 bg-gray-100 rounded-full text-gray-600 hover:bg-yellow-100 hover:text-yellow-700"><Languages size={14} /></button>}
                                <button onClick={(e) => { e.stopPropagation(); onOpenImage(place); }} className="p-1.5 bg-gray-100 rounded-full text-gray-600 hover:bg-blue-100 hover:text-blue-700"><Camera size={14} /></button>
                                {mapTerm && <button onClick={(e) => { e.stopPropagation(); onOpenMap(mapTerm); }} className="p-1.5 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100"><MapPin size={14} /></button>}
                            </div>
                        </div>
                        <p className={`text-xs mb-2 leading-relaxed print:text-[8pt] print:mb-1 ${highlight ? 'text-gray-300 print:text-gray-600' : 'text-gray-500'}`}>{desc}</p>
                        <div className="flex flex-wrap gap-1.5">
                            {bookingType && (
                                <span className={`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase border bg-gray-100 text-gray-600 border-gray-200 print:text-[7pt]`}>
                                    {dictionary[lang].booking[bookingType]}
                                </span>
                            )}
                            {tags?.map((tag, i) => (
                                <span key={i} className="text-[9px] px-1.5 py-0.5 rounded font-bold bg-gray-50 text-gray-500 border border-gray-100 print:border-gray-300 print:text-[7pt]">#{tag}</span>
                            ))}
                        </div>
                    </div>
                </div>
            </div>
        );

        // E. DayCard
        const DayCard = ({ id, day, date, title, highlights, note, onShowKorean, onOpenMap, onOpenImage, lang, isToday }) => (
            <div id={id} className={`mb-8 print:mb-2 avoid-break transition-all duration-500 ${isToday ? 'bg-green-50/50 p-2 rounded-2xl border-l-4 border-green-500' : ''}`}>
                <div className="flex items-end gap-3 mb-4 px-2 print:mb-1 print:border-b print:border-black print:pb-1 print:flex-row print:items-center">
                    <div className="text-5xl font-black text-gray-200 leading-none -mb-1 print:text-black print:text-lg print:mb-0 print:mr-2 no-print">{day.replace('DAY ', 'D')}</div>
                    <div className="print-only font-black text-lg text-black mr-2">{day.replace('DAY ', 'D')}</div>
                    <div className="flex-1">
                        <div className="flex items-center gap-2">
                            <div className="text-xs font-bold text-blue-600 uppercase tracking-widest print:text-gray-500 print:text-[8pt]">{date}</div>
                            {isToday && <span className="bg-green-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full today-badge no-print">{dictionary[lang].today}</span>}
                        </div>
                        <div className="text-xl font-bold text-gray-900 print:text-sm">{title}</div>
                    </div>
                </div>
                <div className="pl-2 print:pl-0">
                    {highlights.map((item, idx) => (
                        <TimelineItem key={idx} {...item} isLast={idx === highlights.length - 1} onShowKorean={onShowKorean} onOpenMap={onOpenMap} onOpenImage={onOpenImage} lang={lang} />
                    ))}
                </div>
                {note && (
                    <div className="ml-14 mt-[-10px] mb-6 p-3 bg-orange-50 border-l-4 border-orange-400 rounded-r-lg text-xs text-orange-800 font-medium leading-relaxed flex gap-2 print:bg-white print:border print:border-orange-400 print:mt-0 print:mb-2 print:ml-0 print:p-2 print:text-[8pt]">
                        <AlertTriangle size={14} className="shrink-0 text-orange-500"/>
                        {note}
                    </div>
                )}
            </div>
        );

        // F. FlightCard
        const FlightCard = ({ type, date, flightNo, airline, time, airport, duration, color }) => {
            const barClass = getColorClass(color, 'bar');
            const bgClass = getColorClass(color, 'bg');
            const textClass = getColorClass(color, 'text');
            const iconClass = getColorClass(color, 'icon');
            return (
                <div className="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-6 relative group print:shadow-none print:border-gray-400 print:mb-2 print:rounded-lg">
                    <div className={`absolute top-0 left-0 w-full h-1 ${barClass} print:h-full print:w-1`}></div>
                    <div className="p-5 print:p-2 print:pl-4">
                        <div className="flex justify-between items-center mb-4 print:mb-1">
                            <span className={`text-[10px] font-black uppercase tracking-widest px-2 py-1 rounded ${bgClass} ${textClass} print:bg-transparent print:p-0 print:text-black`}>
                                {type} â€¢ {date}
                            </span>
                            <div className="flex items-center text-gray-400 text-xs font-mono font-bold bg-gray-50 px-2 py-1 rounded print:bg-transparent print:p-0">
                                <Clock size={12} className="mr-1.5"/>{duration}
                            </div>
                        </div>
                        <div className="flex justify-between items-center relative">
                            <div className="text-center z-10 print:text-left">
                                <div className="text-2xl font-black text-gray-900 print:text-base">{time.depart}</div>
                                <div className="text-[10px] font-bold text-gray-400 mt-1 print:mt-0">{airport.depart}</div>
                            </div>
                            <div className="flex-1 px-4 flex flex-col items-center print:px-2">
                                <div className="text-[9px] font-bold text-gray-400 uppercase mb-1">{airline}</div>
                                <div className="w-full h-px bg-gray-200 relative flex items-center justify-center print:hidden">
                                    <Plane size={14} className={`${iconClass} bg-white px-1`} />
                                </div>
                                <div className="hidden print:block text-xs text-gray-300">â†’</div>
                                <div className="text-xs font-black text-gray-900 mt-1">{flightNo}</div>
                            </div>
                            <div className="text-center z-10 print:text-right">
                                <div className="text-2xl font-black text-gray-900 print:text-base">{time.arrive}</div>
                                <div className="text-[10px] font-bold text-gray-400 mt-1 print:mt-0">{airport.arrive}</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // G. RoomCard
        const RoomCard = ({ roomName, members, color, lang }) => {
            const bgClass = getColorClass(color, 'bg');
            const textClass = getColorClass(color, 'text');
            return (
                <div className="bg-white border border-gray-100 p-4 rounded-xl flex items-center justify-between mb-2 shadow-sm print:border-gray-300 print:shadow-none print:p-2 print:rounded-lg">
                    <div className="flex items-center gap-3">
                        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${bgClass} ${textClass} print:bg-gray-100 print:text-black print:w-6 print:h-6`}>
                            <UserPlus size={16} className="print:w-3 print:h-3" />
                        </div>
                        <div>
                            <div className="font-bold text-gray-900 text-sm print:text-xs">{dictionary[lang].room} {roomName.replace(/[^0-9]/g, '')}</div>
                            <div className="text-xs text-gray-500 font-medium print:text-[9pt]">{members}</div>
                        </div>
                    </div>
                </div>
            );
        };

        // H. ChecklistGroup
        const ChecklistGroup = ({ title, items, color, category, checkedItems, onToggle }) => {
            const checkedCount = items.filter((_, i) => checkedItems[`${category}_${i}`]).length;
            const borderClass = getColorClass(color, 'border');
            const bgClass = getColorClass(color, 'bg');

            return (
                <div className="mb-6 avoid-break print:mb-4">
                    <div className="flex justify-between items-end mb-2 px-1">
                        <h3 className={`font-black text-sm text-gray-900 flex items-center print:text-xs`}>{title}</h3>
                        <span className="text-[10px] font-bold text-gray-400 no-print">{checkedCount}/{items.length}</span>
                    </div>
                    <div className="bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm print:border-gray-300 print:shadow-none print:rounded-lg">
                        {items.map((item, i) => {
                            const isChecked = checkedItems[`${category}_${i}`];
                            return (
                                <div key={i} onClick={() => onToggle(category, i)} className="p-3 flex items-center gap-3 border-b border-gray-50 last:border-0 print:border-gray-200 print:p-1.5 hover:bg-gray-50 cursor-pointer transition-all">
                                    <div className={`w-4 h-4 border rounded-md flex items-center justify-center transition-all ${isChecked ? `bg-${color}-500 border-${color}-500` : 'border-gray-300'}`}>
                                        {isChecked && <CheckSquare size={10} className="text-white" />}
                                    </div>
                                    <span className={`text-xs font-medium transition-all ${isChecked ? 'text-gray-400 line-through decoration-gray-300' : 'text-gray-700'} print:text-[8pt]`}>{item}</span>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        // --- SECTIONS ---

        const getItineraryData = (lang) => [
            {
                day: "DAY 01", date: lang === 'zh' ? "2æœˆ14æ—¥ (å…­)" : "Feb 14 (Sat)", title: lang === 'zh' ? "æŠµé” & å¸ƒå¸³é¦¬è»Š" : "Arrival & Pocha", highlights: [
                    { time: "18:25", place: lang === 'zh' ? "æŠµé”ä»å·æ©Ÿå ´" : "Arrive ICN", desc: lang === 'zh' ? "Gate 5B/11B æ­è»Šã€‚" : "Go to Gate 5B/11B.", tags: ["Airport"] },
                    { time: "20:00", place: lang === 'zh' ? "æ©Ÿå ´å·´å£« 6015" : "Airport Bus 6015", desc: lang === 'zh' ? "ä¸Šè»Šæ‹å¡ (ç´„17,000â‚©)ã€‚" : "T-Money (~17,000â‚©).", korean: "6015ë²ˆ ê³µí•­ë²„ìŠ¤", tags: ["Transport"], bookingType: "queue" },
                    { time: "21:30", place: lang === 'zh' ? "ç´å¸ƒæœ—ä¸­å¿ƒé…’åº—" : "New Blanc Hotel", desc: lang === 'zh' ? "Kukdo Hotel ç«™è½è»Šã€‚" : "Stop at Kukdo Hotel.", mapTerm: "New Blanc Central Myeongdong", korean: "ë‰´ ë¸”ë‘ ì„¼íŠ¸ëŸ´ ëª…ë™ í˜¸í…”", tags: ["Check-in"] },
                    { time: "22:00", place: lang === 'zh' ? "é˜è·¯ä¸‰è¡—å¸ƒå¸³é¦¬è»Š" : "Jongno Pocha", desc: lang === 'zh' ? "é™„è¿‘åœ°é“å¤§æ’æª”æ™šé¤ã€‚" : "Street food stalls dinner.", mapTerm: "Jongno 3-ga Pocha Street", korean: "ì¢…ë¡œ3ê°€ í¬ì¥ë§ˆì°¨ê±°ë¦¬", tags: ["Food"], highlight: true, bookingType: "walk-in" }
                ], note: lang === 'zh' ? "ä»Šæ—¥èˆŸè»Šå‹é “ï¼Œé£Ÿå®Œå®µå¤œæ—©å•²ä¼‘æ¯ã€‚" : "Long travel day. Rest early."
            },
            {
                day: "DAY 02", date: lang === 'zh' ? "2æœˆ15æ—¥ (æ—¥)" : "Feb 15 (Sun)", title: lang === 'zh' ? "æ±Ÿå— & æ±—è’¸å¹•" : "Gangnam & Spa", highlights: [
                    { time: "10:00", place: lang === 'zh' ? "æ˜Ÿç©ºåœ–æ›¸é¤¨" : "Starfield Library", desc: lang === 'zh' ? "COEX Mall æ‰“å¡ (ä¸‰æˆç«™)ã€‚" : "COEX Mall photo spot.", mapTerm: "Starfield Library", korean: "ë³„ë§ˆë‹¹ ë„ì„œê´€", tags: ["Photo"], bookingType: "free" },
                    { time: "12:30", place: lang === 'zh' ? "åˆé¤: é»‘è™ç‹¼" : "Lunch: Heukhorang", desc: lang === 'zh' ? "å¢¨è¥¿å“¥é¢¨å‘³ç¢³çƒ¤é›è…¿ã€‚" : "Mexican Chicken.", korean: "í‘í˜¸ë‘", tags: ["Food"], bookingType: "queue" },
                    { time: "13:30", place: lang === 'zh' ? "Seoul Sky" : "Seoul Sky", desc: lang === 'zh' ? "æ¨‚å¤©å¡”é«˜ç©ºæ™¯è§€ (è ¶å®¤ç«™)ã€‚" : "Lotte Tower View.", mapTerm: "Lotte World Tower", korean: "ì„œìš¸ìŠ¤ì¹´ì´", tags: ["View"], bookingType: "book", highlight: true },
                    { time: "18:00", place: lang === 'zh' ? "Dragon Hill Spa" : "Dragon Hill Spa", desc: lang === 'zh' ? "é¾å±±ç«™æ±—è’¸å¹•é«”é©— (å‚™æ¡ˆ: Siloam)ã€‚" : "Jjimjilbang at Yongsan.", mapTerm: "Dragon Hill Spa", korean: "ë“œë˜ê³¤íìŠ¤íŒŒ", tags: ["Relax"], bookingType: "walk-in" },
                    { time: "20:30", place: lang === 'zh' ? "è’è¬¬çš„ç”Ÿè‚‰" : "Ungteori BBQ", desc: lang === 'zh' ? "æ˜æ´ç„¡é™ä»»é£Ÿäº”èŠ±è‚‰ã€‚" : "AYCE Pork Belly Myeongdong.", mapTerm: "Ungteori Saenggogi Myeongdong", korean: "ì—‰í„°ë¦¬ìƒê³ ê¸° ëª…ë™ì ", tags: ["Food"] },
                    { time: "22:00", place: lang === 'zh' ? "Olive Young/CU" : "Olive Young/CU", desc: lang === 'zh' ? "è²· Mask è©¦ç”¨ã€‚" : "Buy masks.", tags: ["Shop"] }
                ]
            },
            {
                day: "DAY 03", date: lang === 'zh' ? "2æœˆ16æ—¥ (ä¸€)" : "Feb 16 (Mon)", title: lang === 'zh' ? "éŸ“æœ & æ™¯ç¦å®®" : "Hanbok & Palace", highlights: [
                    { time: "08:30", place: lang === 'zh' ? "ç§ŸéŸ“æœ" : "Rent Hanbok", desc: lang === 'zh' ? "éœ€é è¨‚ã€‚ç©¿éŸ“æœå…è²»å…¥å®®ã€‚" : "Booked. Free palace entry.", mapTerm: "Hanboknam Gyeongbokgung", tags: ["Activity"], bookingType: "book" },
                    { time: "09:30", place: lang === 'zh' ? "æ™¯ç¦å®®" : "Gyeongbokgung", desc: lang === 'zh' ? "åƒè§€å¤å®®ï¼Œå½±éšç›¸ã€‚" : "Main Palace tour.", mapTerm: "Gyeongbokgung Palace", korean: "ê²½ë³µê¶", tags: ["Culture"], bookingType: "free" },
                    { time: "11:30", place: lang === 'zh' ? "åˆé¤: æ–°ç¾…è£½éºµ" : "Silla Jemyeon", desc: lang === 'zh' ? "è¾£ç« é­š/è›¤èœŠåˆ€å‰Šéºµã€‚" : "Spicy Octopus Noodles.", mapTerm: "Silla Jemyeon", korean: "ì‹ ë¼ì œë©´", tags: ["Food"], bookingType: "queue" },
                    { time: "13:30", place: lang === 'zh' ? "è¥¿æ‘æ–‡å‰µ" : "Seochon", desc: lang === 'zh' ? "æ–‡å‰µåº—/å±•è¦½/Cafeã€‚" : "Artsy street & cafes.", mapTerm: "Seochon Village", korean: "ì„œì´Œë§ˆì„", tags: ["Walk"] },
                    { time: "16:00", place: lang === 'zh' ? "London Bagel" : "London Bagel", desc: lang === 'zh' ? "å®‰åœ‹åº—ã€‚éœ€ææ—©æ‹¿ç±Œå¤–è³£ã€‚" : "Famous Bagels (Takeout).", mapTerm: "London Bagel Museum Anguk", korean: "ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„ ì•ˆêµ­ì ", tags: ["Snack"], highlight: true },
                    { time: "19:00", place: lang === 'zh' ? "æ™šé¤: ç„¡å¢å±‹" : "Mugunghwa", desc: lang === 'zh' ? "äººè”˜é›æ¹¯/é­·é­šé›è‚‰ã€‚" : "Ginseng Chicken Soup.", tags: ["Food"] }
                ]
            },
            {
                day: "DAY 04", date: lang === 'zh' ? "2æœˆ17æ—¥ (äºŒ)" : "Feb 17 (Tue)", title: lang === 'zh' ? "ğŸ§§ å¹´åˆä¸€æ˜æ´" : "ğŸ§§ Seollal Myeongdong", highlights: [
                    { time: "10:30", place: lang === 'zh' ? "Sparex æ±å¤§é–€" : "Sparex", desc: lang === 'zh' ? "æ±—è’¸å¹•ä¼‘æ¯ã€‚" : "Sauna rest.", mapTerm: "Sparex Dongdaemun", korean: "ìŠ¤íŒŒë ‰ìŠ¤", tags: ["Relax"] },
                    { time: "13:00", place: lang === 'zh' ? "é¢¨å·é°»é­š" : "Eel Lunch", desc: lang === 'zh' ? "ä¹™æ”¯è·¯3è¡— (å‚™æ¡ˆ: é€£é–åº—/é…’åº—é™„è¿‘)ã€‚" : "Grilled Eel (Backup available).", mapTerm: "Pungcheon Eel", korean: "í™©ì†Œí’ì²œë¯¼ë¬¼ì¥ì–´", tags: ["Food"], bookingType: "queue" },
                    { time: "15:00", place: lang === 'zh' ? "æ˜æ´å¯¦å½ˆå°„æ“Š" : "Shooting", desc: lang === 'zh' ? "éœ€é è¨‚ã€‚" : "Real gun shooting.", mapTerm: "Myeongdong Shooting Range", korean: "ëª…ë™ì‹¤íƒ„ì‚¬ê²©ì¥", tags: ["Play"], bookingType: "book" },
                    { time: "16:00", place: lang === 'zh' ? "æ˜æ´é€›è¡—" : "Shopping", desc: lang === 'zh' ? "EPT, NyuNyu, Marithe, Covernatã€‚" : "Brand Shopping.", mapTerm: "Myeongdong", tags: ["Shop"] },
                    { time: "19:00", place: lang === 'zh' ? "æ™šé¤: ç‹å¦ƒå®¶" : "Wangbijib", desc: lang === 'zh' ? "æ˜æ´è‘—åç‡’è‚‰ã€‚å‚™æ¡ˆ: æ˜æ´é¤ƒå­ã€‚" : "Premium BBQ.", mapTerm: "Wangbijib Myeongdong Main Store", korean: "ì™•ë¹„ì§‘ ëª…ë™ë³¸ì ", tags: ["Food"], highlight: true }
                ], note: lang === 'zh' ? "å¹´åˆä¸€å¾ˆå¤šåº—ä¼‘ï¼Œå»ºè­°å»æ˜æ´éŠå®¢å€ã€‚" : "CNY Day 1. Myeongdong is safest option."
            },
            {
                day: "DAY 05", date: lang === 'zh' ? "2æœˆ18æ—¥ (ä¸‰)" : "Feb 18 (Wed)", title: lang === 'zh' ? "å¼˜å¤§æ”å½±æ—¥" : "Hongdae Photo", highlights: [
                    { time: "11:00", place: lang === 'zh' ? "Reverie Black" : "Reverie Black", desc: lang === 'zh' ? "å®¶åº­ç…§æ‹æ” (éœ€DMé ç´„)ã€‚" : "Family Photo Shoot.", mapTerm: "Reverie Black", korean: "ë ˆë²„ë¦¬ë¸”ë™", tags: ["Photo"], bookingType: "book", highlight: true },
                    { time: "13:00", place: lang === 'zh' ? "Hotel De GGOODD" : "Hotel De GGOODD", desc: lang === 'zh' ? "å»¶å—æ´åˆé¤æ„ç²‰ã€‚" : "Pasta Lunch.", mapTerm: "Hotel De GGOODD", korean: "í˜¸í…”ë“œêµ¬ëœ¨", tags: ["Food"] },
                    { time: "15:00", place: lang === 'zh' ? "å¼˜å¤§é€›è¡—" : "Hongdae Walk", desc: lang === 'zh' ? "Loof, æ‹è²¼æ©Ÿ (Pixx)ã€‚" : "Shopping & Photo booths.", tags: ["Fun"] },
                    { time: "19:00", place: lang === 'zh' ? "æ™šé¤ 4é¸1" : "Dinner Choice", desc: lang === 'zh' ? "æ©‹æ‘ç‚¸é› / æ°´èŠ¹èœçƒ¤è‚‰ / å°è±¬å­˜éŒ¢ç­’ / Taecho Beefã€‚" : "Chicken / BBQ / Beef.", tags: ["Food"] },
                    { time: "21:00", place: lang === 'zh' ? "æ´—è¡£" : "Laundry", desc: lang === 'zh' ? "å›é…’åº—æ´—è¡£ã€‚" : "Laundry time.", tags: ["Task"] }
                ]
            },
            {
                day: "DAY 06", date: lang === 'zh' ? "2æœˆ19æ—¥ (å››)" : "Feb 19 (Thu)", title: lang === 'zh' ? "Daisy åŠ å…¥ & è–æ°´" : "Daisy & Seongsu", highlights: [
                    { time: "09:30", place: lang === 'zh' ? "å®¶äººå‡ºç™¼" : "Family Departs", desc: lang === 'zh' ? "å®¶äººå…ˆå»è–æ°´æ´ã€‚" : "Family goes to Seongsu.", mapTerm: "Seongsu-dong Cafe Street", korean: "ì„±ìˆ˜ë™", tags: ["Tour"] },
                    { time: "10:00", place: lang === 'zh' ? "Louis ç•™å®ˆ" : "Louis Stays", desc: lang === 'zh' ? "Louis åœ¨é…’åº—ç­‰ Daisyã€‚" : "Louis waits at Hotel.", tags: ["Wait"], highlight: true },
                    { time: "11:30", place: lang === 'zh' ? "Daisy æŠµé”" : "Daisy @ Hotel", desc: lang === 'zh' ? "Daisy åˆ°é…’åº—æ”¾è¡Œæã€‚" : "Daisy arrives Hotel.", tags: ["Arrive"] },
                    { time: "13:30", place: lang === 'zh' ? "åˆé¤: BUOY" : "Lunch: BUOY", desc: lang === 'zh' ? "è–æ°´æ´æœƒåˆ (å·²é è¨‚)ã€‚" : "Meet up (Booked).", mapTerm: "BUOY Seongsu", korean: "ë¶€ì´", tags: ["Food"], bookingType: "book" },
                    { time: "15:00", place: lang === 'zh' ? "è–æ°´æ´é€›è¡—" : "Seongsu Shop", desc: lang === 'zh' ? "Dior, NyuNyu, Musina, Hetrasã€‚" : "Shopping trend spots.", mapTerm: "Dior Seongsu", tags: ["Shop"] },
                    { time: "19:00", place: lang === 'zh' ? "Jojo Kalguksu" : "Jojo Kalguksu", desc: lang === 'zh' ? "è›¤èœŠåˆ€å‰Šéºµã€æµ·é®®ç…é¤…ã€‚" : "Clam Noodles.", mapTerm: "Jojo Kalguksu Seongsu", korean: "ì¡°ì¡°ì¹¼êµ­ìˆ˜ ì„±ìˆ˜ì ", tags: ["Food"] }
                ]
            },
            {
                day: "DAY 07", date: lang === 'zh' ? "2æœˆ20æ—¥ (äº”)" : "Feb 20 (Fri)", title: lang === 'zh' ? "çˆ¸çˆ¸åœ“å¤¢é›ªæ—¥" : "Snow Day!", highlights: [
                    { time: "08:00", place: lang === 'zh' ? "åŒ…è»Šå‡ºç™¼" : "Private Car", desc: lang === 'zh' ? "é…’åº—å‡ºç™¼ (éœ€é ç´„åŒ…è»Š)ã€‚" : "Depart hotel (Booked car).", tags: ["Transport"], highlight: true },
                    { time: "09:30", place: lang === 'zh' ? "æ´ªå· Vivaldi" : "Vivaldi Park", desc: lang === 'zh' ? "ç©é›ªæ©‡ã€é›ªç›† (çˆ¸çˆ¸ç‡é›ªï¼)ã€‚" : "Snow Sledding & Fun.", mapTerm: "Vivaldi Park Ski World", korean: "ë¹„ë°œë””íŒŒí¬", tags: ["Snow", "Dad's Wish"] },
                    { time: "14:00", place: lang === 'zh' ? "é­šé£›æºªè°·" : "Eobi Valley", desc: lang === 'zh' ? "çµ•ç¾å†°æ²³å†°å£æ‰“å¡ã€‚" : "Ice Valley photos.", mapTerm: "Eobi Valley", korean: "ì–´ë¹„ê³„ê³¡", tags: ["Photo"] },
                    { time: "16:00", place: lang === 'zh' ? "å—æ€¡å³¶" : "Nami Island", desc: lang === 'zh' ? "å†¬å­£é›ªæ™¯æ•£æ­¥ã€‚" : "Winter scenery.", mapTerm: "Nami Island", korean: "ë‚¨ì´ì„¬", tags: ["Scenic"] },
                    { time: "19:30", place: lang === 'zh' ? "é˜è·¯ä¸‰è¡—" : "Jongno 3-ga", desc: lang === 'zh' ? "å›ç¨‹æ™šé¤: å¸ƒå¸³é¦¬è»Šã€‚" : "Pocha Dinner.", tags: ["Food"] }
                ], note: lang === 'zh' ? "é‡é»è¡Œç¨‹ï¼è¨˜å¾—è‘—æœ€æš–ã€é˜²æ»‘é‹ã€‚" : "Highlight day! Wear warmest gear."
            },
            {
                day: "DAY 08", date: lang === 'zh' ? "2æœˆ21æ—¥ (å…­)" : "Feb 21 (Sat)", title: lang === 'zh' ? "Facial & æœ€å¾Œè¡åˆº" : "Facial & Last Shop", highlights: [
                    { time: "10:00", place: lang === 'zh' ? "Lienjang (æ˜æ´)" : "Lienjang Clinic", desc: lang === 'zh' ? "æ˜æ´åº— Facial è‡¨èµ°ä¿®å¾©ã€‚" : "Final Facial @ Myeongdong.", mapTerm: "Lienjang Myeongdong", korean: "ë¦¬ì•¤ì¥ ëª…ë™ì ", tags: ["Beauty"], bookingType: "book", highlight: true },
                    { time: "12:00", place: lang === 'zh' ? "å»£è—å¸‚å ´" : "Gwangjang Mkt", desc: lang === 'zh' ? "ç¶ è±†é¤…ã€ç”Ÿç‰›è‚‰ (åˆé¤)ã€‚" : "Lunch at Market.", mapTerm: "Gwangjang Market", korean: "ê´‘ì¥ì‹œì¥", tags: ["Food"], bookingType: "walk-in" },
                    { time: "14:30", place: lang === 'zh' ? "ç›Šå–„æ´" : "Ikseon-dong", desc: lang === 'zh' ? "éŸ“å±‹å··å¼„ã€‚" : "Hanok alleys.", mapTerm: "Ikseon-dong", korean: "ìµì„ ë™", tags: ["Photo"] },
                    { time: "17:00", place: lang === 'zh' ? "Lotte Mart" : "Lotte Mart", desc: lang === 'zh' ? "é¦–çˆ¾ç«™è¶…å¸‚æƒè²¨ã€‚" : "Seoul Station Mart.", mapTerm: "Lotte Mart Seoul Station", korean: "ë¡¯ë°ë§ˆíŠ¸ ì„œìš¸ì—­ì ", tags: ["Shop"] },
                    { time: "19:30", place: lang === 'zh' ? "Tian Mimi (é»å¿ƒå¥³ç‹)" : "Tian Mimi", desc: lang === 'zh' ? "é»‘ç™½å¤§å»šé„­æ™ºå–„ (æ–™ç†ç‹‚äººæ›¿ä»£)ã€‚" : "Dim Sum Queen (Cooking Maniac alt).", mapTerm: "Tian Mimi Seochon", korean: "í‹°ì—”ë¯¸ë¯¸ ì„œì´Œì ", tags: ["Netflix", "Food"], bookingType: "queue" }
                ], note: lang === 'zh' ? "æ–™ç†ç‹‚äºº Deepin å…¨æ»¿ï¼Œæ”¹å»åŒç‚ºé»‘ç™½å¤§å»šçš„ Tian Mimi (é»å¿ƒå¥³ç‹)ã€‚" : "Deepin fully booked. Changed to Dim Sum Queen (Tian Mimi)."
            },
            {
                day: "DAY 09", date: lang === 'zh' ? "2æœˆ22æ—¥ (æ—¥)" : "Feb 22 (Sun)", title: lang === 'zh' ? "å†è¦‹é¦–çˆ¾" : "Bye Seoul", highlights: [
                    { time: "09:30", place: lang === 'zh' ? "Check-out" : "Check-out", desc: lang === 'zh' ? "æª¢æŸ¥è­·ç…§ã€‚" : "Check passports.", tags: ["Hotel"] },
                    { time: "10:00", place: lang === 'zh' ? "å·´å£« 6015" : "Bus 6015", desc: lang === 'zh' ? "æ—©é»å»æ©Ÿå ´ã€‚" : "Go to airport.", korean: "êµ­ë„í˜¸í…” ê³µí•­ë²„ìŠ¤", tags: ["Transport"], highlight: true },
                    { time: "13:45", place: lang === 'zh' ? "CX453 èµ·é£›" : "CX453 Departs", desc: lang === 'zh' ? "è¿”é¦™æ¸¯ã€‚" : "Back to HK.", tags: ["Flight"] }
                ]
            }
        ];

        const ItinerarySection = ({ handlers, lang }) => {
            const [currentDayIndex, setCurrentDayIndex] = useState(-1);

            useEffect(() => {
                const today = new Date();
                const tripStart = new Date('2026-02-14T00:00:00');
                const diffTime = today.getTime() - tripStart.getTime();
                const diffDays = Math.floor(diffTime / (1000 * 3600 * 24));

                if (diffDays >= 0 && diffDays < 9) {
                    setCurrentDayIndex(diffDays);
                    setTimeout(() => {
                        const element = document.getElementById(`day-${diffDays}`);
                        if (element) {
                            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 500);
                }
            }, []);

            return (
                <>
                    {getItineraryData(lang).map((day, index) => (
                        <DayCard 
                            key={index} 
                            id={`day-${index}`} 
                            {...day} 
                            {...handlers} 
                            lang={lang} 
                            isToday={index === currentDayIndex} 
                        />
                    ))}
                </>
            );
        };

        const FlightsSection = ({ isPrint, lang }) => (
            <>
                <FlightCard type={lang === 'zh' ? "å»ç¨‹" : "DEPART"} date={lang === 'zh' ? "2æœˆ14æ—¥" : "Feb 14"} flightNo="7C6022" airline="JEJU AIR" time={{depart:"13:55", arrive:"18:25"}} airport={{depart:"HKG T1", arrive:"ICN T1"}} duration="3h 30m" color="blue" />
                <FlightCard type={lang === 'zh' ? "å›ç¨‹" : "RETURN"} date={lang === 'zh' ? "2æœˆ22æ—¥" : "Feb 22"} flightNo="CX453" airline="CATHAY" time={{depart:"13:45", arrive:"17:00"}} airport={{depart:"ICN T1", arrive:"HKG T1"}} duration="4h 15m" color="green" />
                <div className="p-4 bg-red-50 rounded-xl border border-red-100 mt-4 print:border-red-400 print:p-2">
                    <div className="flex items-center gap-2 text-red-600 font-bold mb-1 text-xs"><AlertTriangle size={16}/> {dictionary[lang].urgent}</div>
                    <p className="text-red-800 text-xs leading-relaxed">{dictionary[lang].urgentText}</p>
                </div>
            </>
        );

        const HotelSection = ({ setShowKorean, isPrint, lang }) => (
            <>
                <div className={`relative rounded-2xl overflow-hidden bg-gray-900 text-white shadow-2xl mb-4 print:shadow-none print:bg-white print:text-black print:border print:border-gray-300 ${isPrint ? '' : 'h-32'}`}>
                    { !isPrint && <img src="https://images.unsplash.com/photo-1596436807771-7a342b4d9039?q=80&w=1000&auto=format&fit=crop" className="absolute inset-0 w-full h-full object-cover opacity-60" /> }
                    <div className={`relative ${isPrint ? 'p-4' : 'p-6 flex flex-col justify-center h-full'}`}>
                        <h2 className="text-xl font-black leading-none mb-1">New Blanc Central</h2>
                        <p className="text-gray-300 font-medium mb-0 text-xs print:text-gray-600">New Blanc Central Myeongdong</p>
                        <p className="hidden print:block text-[10px] text-gray-500 mt-2">ì„œìš¸ ì¤‘êµ¬ ì°½ê²½ê¶ë¡œ 20</p>
                        { !isPrint && <button onClick={() => setShowKorean({ kr: "ë‰´ ë¸”ë‘ ì„¼íŠ¸ëŸ´ ëª…ë™ í˜¸í…”", name: "New Blanc Central Hotel", subText: "ì„œìš¸ ì¤‘êµ¬ ì°½ê²½ê¶ë¡œ 20" })} className="absolute bottom-4 right-4 bg-white text-black px-3 py-1 rounded-lg font-bold text-xs flex items-center hover:scale-105 transition-transform no-print">
                            <Languages size={14} className="mr-1"/> {dictionary[lang].showAddress}
                        </button> }
                    </div>
                </div>
                <div className="grid grid-cols-2 gap-2 mb-4">
                    <div className="bg-white p-3 rounded-xl border border-gray-100 shadow-sm print:border-gray-300">
                        <div className="text-gray-400 text-[10px] font-bold uppercase">{dictionary[lang].subway}</div>
                        <div className="font-bold text-gray-900 text-sm">Euljiro 4-ga</div>
                        <div className="text-[10px] text-blue-600 font-bold">Exit 10</div>
                    </div>
                    <div className="bg-white p-3 rounded-xl border border-gray-100 shadow-sm print:border-gray-300">
                        <div className="text-gray-400 text-[10px] font-bold uppercase">{dictionary[lang].bus}</div>
                        <div className="font-bold text-gray-900 text-sm">6015</div>
                        <div className="text-[10px] text-green-600 font-bold">Kukdo Hotel</div>
                    </div>
                </div>
                <h3 className="font-black text-sm mb-2 px-1">{dictionary[lang].rooms}</h3>
                <RoomCard roomName="1" members="Louis + Daisy" color="blue" lang={lang} />
                <RoomCard roomName="2" members="Dad & Mum" color="red" lang={lang} />
                <RoomCard roomName="3" members="Sisters" color="purple" lang={lang} />
            </>
        );

        const PrepSection = ({ checkedItems, toggleCheck, isPrint, lang }) => (
            <>
                <div className={`flex gap-4 mb-8 overflow-x-auto no-scrollbar pb-2 no-print ${isPrint ? 'hidden' : ''}`}>
                    <div className="bg-black text-white p-5 rounded-2xl min-w-[140px] flex flex-col justify-between h-32 shadow-lg">
                        <RealTimeWeather lang={lang} isPrint={false} />
                    </div>
                    <div className="bg-white p-5 rounded-2xl min-w-[140px] flex flex-col justify-between h-32 border border-gray-100 shadow-sm">
                        <Plug className="text-yellow-500" />
                        <div>
                            <div className="text-xl font-black">Type F</div>
                            <div className="text-[10px] font-bold text-gray-400 uppercase">{dictionary[lang].plugType}</div>
                        </div>
                    </div>
                </div>
                <ChecklistGroup title={dictionary[lang].checklistData.docs.title} items={dictionary[lang].checklistData.docs.items} color="blue" category="docs" checkedItems={checkedItems || {}} onToggle={toggleCheck} />
                <ChecklistGroup title={dictionary[lang].checklistData.clothes.title} items={dictionary[lang].checklistData.clothes.items} color="purple" category="clothes" checkedItems={checkedItems || {}} onToggle={toggleCheck} />
                <ChecklistGroup title={dictionary[lang].checklistData.electronics.title} items={dictionary[lang].checklistData.electronics.items} color="yellow" category="electronics" checkedItems={checkedItems || {}} onToggle={toggleCheck} />
                <ChecklistGroup title={dictionary[lang].checklistData.meds.title} items={dictionary[lang].checklistData.meds.items} color="red" category="meds" checkedItems={checkedItems || {}} onToggle={toggleCheck} />
                <ChecklistGroup title={dictionary[lang].checklistData.misc.title} items={dictionary[lang].checklistData.misc.items} color="green" category="misc" checkedItems={checkedItems || {}} onToggle={toggleCheck} />
            </>
        );

        const SeoulTrip2026 = () => {
            const [activeTab, setActiveTab] = useState('itinerary');
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [showKorean, setShowKorean] = useState(null);
            const [showInstallModal, setShowInstallModal] = useState(false);
            const [installPrompt, setInstallPrompt] = useState(null);
            const [lang, setLang] = useState('zh'); // Default Language
            
            const [checkedItems, setCheckedItems] = useState(() => {
                try {
                    const saved = localStorage.getItem('seoulTripChecklist_v2');
                    return saved ? JSON.parse(saved) : {};
                } catch (e) { return {}; }
            });

            useEffect(() => {
                try { localStorage.setItem('seoulTripChecklist_v2', JSON.stringify(checkedItems)); } catch (e) {}
            }, [checkedItems]);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 10);
                window.addEventListener('scroll', handleScroll);
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    setInstallPrompt(e);
                });
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            useEffect(() => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, [activeTab]);

            const toggleCheck = (category, index) => {
                const key = `${category}_${index}`;
                setCheckedItems(prev => ({ ...prev, [key]: !prev[key] }));
            };

            const toggleLang = () => {
                setLang(prev => prev === 'zh' ? 'en' : 'zh');
            };

            const openMap = (query) => window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
            const openImages = (query) => window.open(`https://www.google.com/search?tbm=isch&q=${query}`, '_blank');
            const handleShowKorean = (kr, name, sub) => setShowKorean({ kr, name, subText: sub });
            
            const handleShare = async () => {
                if (navigator.share) {
                    try { await navigator.share({ title: 'Seoul Trip 2026', url: window.location.href }); } catch (error) {}
                } else {
                    try {
                        await navigator.clipboard.writeText(window.location.href);
                        alert('Link copied!');
                    } catch (err) {
                        alert('Copy Link Failed');
                    }
                }
            };

            const handleInstall = () => {
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                if (isIOS) {
                    setShowInstallModal('ios');
                } else if (installPrompt) {
                    installPrompt.prompt();
                    installPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            setInstallPrompt(null);
                        }
                    });
                } else {
                    setShowInstallModal('android');
                }
            };

            const scrollTop = () => window.scrollTo({ top: 0, behavior: 'smooth' });

            // Define Handlers to pass down
            const handlers = {
                onShowKorean: handleShowKorean,
                onOpenMap: openMap,
                onOpenImage: openImages
            };

            return (
                <div>
                    {/* Screen View Container */}
                    <div className="pb-32 no-print">
                        {showKorean && <KoreanOverlay koreanText={showKorean.kr} name={showKorean.name} subText={showKorean.subText} onClose={() => setShowKorean(null)} lang={lang} />}
                        {showInstallModal && <InstallModal platform={showInstallModal} onClose={() => setShowInstallModal(false)} />}

                        <header className={`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${scrolled ? 'bg-white/90 backdrop-blur-md border-b border-gray-200/50 py-3' : 'bg-transparent py-5'}`}>
                            <div className="max-w-3xl mx-auto px-5 flex justify-between items-center">
                                <div onClick={scrollTop} className="cursor-pointer">
                                    <h1 className={`font-black text-gray-900 tracking-tight leading-none transition-all ${scrolled ? 'text-lg' : 'text-2xl'}`}>{dictionary[lang].appTitle} <span className="text-blue-600">.</span></h1>
                                    <p className={`text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] mt-1 transition-all ${scrolled ? 'opacity-0 h-0' : 'opacity-100'}`}>Seoul 2026</p>
                                </div>
                                <div className="flex gap-2">
                                    <button onClick={handleInstall} className="bg-blue-600 text-white p-2.5 rounded-full shadow-lg transition-transform hover:scale-105 active:scale-95 flex items-center justify-center" title={dictionary[lang].install}><Download size={18} /></button>
                                    <button onClick={toggleLang} className="bg-gray-900 text-white px-3 py-1 rounded-full text-xs font-bold transition-colors shadow-md">{lang === 'zh' ? 'EN' : 'ä¸­'}</button>
                                    <button onClick={() => window.print()} className="bg-gray-100 hover:bg-gray-200 p-2.5 rounded-full text-gray-600 transition-colors" title={dictionary[lang].print}><Printer size={18} /></button>
                                    <button onClick={handleShare} className="bg-gray-100 hover:bg-gray-200 p-2.5 rounded-full text-gray-600 transition-colors"><Share2 size={18} /></button>
                                </div>
                            </div>
                        </header>

                        <main className="max-w-3xl mx-auto px-5 pt-24">
                            {!scrolled && activeTab === 'itinerary' && (
                                <div className="mb-10 animate-scale-in">
                                    <div className="aspect-[2/1] rounded-[32px] bg-black relative overflow-hidden shadow-2xl">
                                        <img src="https://images.unsplash.com/photo-1538485399081-7191377e8241?q=80&w=1000&auto=format&fit=crop" className="absolute inset-0 w-full h-full object-cover opacity-60 hover:scale-105 transition-transform duration-1000" />
                                        <div className="absolute bottom-0 left-0 p-8 text-white">
                                            <div className="flex gap-2 mb-3">
                                                <span className="bg-blue-600 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider">{dictionary[lang].duration}</span>
                                                <span className="bg-white/20 backdrop-blur px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider">{dictionary[lang].weather}</span>
                                            </div>
                                            <h2 className="text-3xl font-black leading-tight mb-1">{dictionary[lang].tripTitle}</h2>
                                            <p className="text-sm text-gray-300 font-medium">{dictionary[lang].tripDate}</p>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {activeTab === 'itinerary' && <div className="animate-fade-in"><ItinerarySection handlers={handlers} lang={lang} /></div>}
                            {activeTab === 'flights' && <div className="animate-fade-in"><h3 className="font-black text-2xl mb-6">{dictionary[lang].tabs.flights}</h3><FlightsSection isPrint={false} lang={lang} /></div>}
                            {activeTab === 'hotel' && <div className="animate-fade-in"><HotelSection setShowKorean={setShowKorean} isPrint={false} lang={lang} /></div>}
                            {activeTab === 'prep' && <div className="animate-fade-in"><PrepSection checkedItems={checkedItems} toggleCheck={toggleCheck} isPrint={false} lang={lang} /></div>}
                        </main>

                        <div className="fixed bottom-8 left-1/2 -translate-x-1/2 z-50">
                            <div className="glass-dark px-1 py-1 rounded-full shadow-2xl flex items-center gap-1 border border-white/10">
                                {Object.keys(dictionary[lang].tabs).map(key => (
                                    <button key={key} onClick={() => setActiveTab(key)} className={`px-5 py-3 rounded-full font-bold text-sm transition-all ${activeTab === key ? 'bg-white text-black shadow-lg scale-105' : 'text-gray-400 hover:text-white'}`}>
                                        {dictionary[lang].tabs[key]}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* PRINT VIEW Container (2 Pages A4 Layout) */}
                    <div className="print-only p-4 max-w-[210mm] mx-auto bg-white">
                        
                        {/* PAGE 1: ITINERARY */}
                        <div className="page-break relative flex flex-col h-full">
                            <div className="text-center mb-4 border-b-2 border-black pb-2">
                                <h1 className="text-2xl font-black mb-1">{dictionary[lang].tripTitle}</h1>
                                <p className="text-gray-500 text-xs font-bold tracking-widest uppercase">{dictionary[lang].appTitle} â€¢ {dictionary[lang].duration}</p>
                            </div>

                            {/* 2-Column Grid for Itinerary to fit 1 page */}
                            <div className="print-cols-2">
                                <ItinerarySection handlers={handlers} lang={lang} />
                            </div>
                            
                            <div className="mt-auto text-center text-[8px] text-gray-400 pt-2 border-t border-gray-100">Page 1/2 â€¢ Itinerary</div>
                        </div>

                        {/* PAGE 2: INFO + PREP */}
                        <div className="page-break-before relative flex flex-col pt-4">
                            <div className="text-center mb-4 border-b-2 border-green-500 pb-2">
                                <h1 className="text-2xl font-black mb-1">{lang === 'zh' ? "è³‡è¨Š & æº–å‚™" : "Info & Prep"}</h1>
                                <p className="text-green-600 text-xs font-bold tracking-widest uppercase">Flights â€¢ Hotel â€¢ Checklist</p>
                            </div>

                            <div className="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <h2 className="text-sm font-black mb-2 flex items-center border-b pb-1"><Plane size={14} className="mr-2"/> {dictionary[lang].tabs.flights}</h2>
                                    <div className="space-y-2">
                                        <FlightsSection isPrint={true} lang={lang} />
                                    </div>
                                </div>
                                <div>
                                    <h2 className="text-sm font-black mb-2 flex items-center border-b pb-1"><Home size={14} className="mr-2"/> {dictionary[lang].tabs.hotel}</h2>
                                    <div className="bg-gray-50 rounded-lg p-2 border border-gray-200">
                                        <HotelSection setShowKorean={() => {}} isPrint={true} lang={lang} />
                                    </div>
                                </div>
                            </div>

                            <div className="mt-2 flex-1">
                                <h2 className="text-sm font-black mb-2 flex items-center border-b pb-1"><Briefcase size={14} className="mr-2"/> {dictionary[lang].tabs.prep}</h2>
                                <div className="grid grid-cols-3 gap-2">
                                     <PrepSection checkedItems={checkedItems} toggleCheck={() => {}} isPrint={true} lang={lang} />
                                </div>
                            </div>

                            <div className="mt-auto text-center text-[8px] text-gray-400 pt-2 border-t border-gray-100">Page 2/2 â€¢ Info & Prep</div>
                        </div>
                    </div>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(<SeoulTrip2026 />);
    </script>
</body>
</html>
